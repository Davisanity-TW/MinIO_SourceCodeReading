# 更新日誌

- 2026-02-06 20:00：Trace：PutObject 補上 `renameData()`/`commitRenameDataDir()` 的實作跳轉點（方便定位卡在 encode/tmp/rename/commit 哪一段）；Healing：補上 `StorageAPI.RenameData()` → `xlStorage.RenameData()` 的實作位置；Troubleshooting：`canceling remote connection` 增加用 remote IP:port 做同時期 log 關聯與 RELEASE tag 版本差異提醒。
- 2026-02-06 08:00：Healing：補齊 background healer worker 的精準分流（`cmd/background-heal-ops.go: (*healRoutine).AddWorker()` 的 switch 與 `healTask` path 語意），方便把「heal format/bucket/object」對應到實際呼叫點。
- 2026-02-05 08:00：Healing：補齊 `cmd/erasure-healing.go: (*erasureObjects).healObject()` 後半段的精準流程（`erasure.Heal` 重建 → `.minio.sys/tmp` 寫入 → `disk.RenameData` 寫回），方便定位 heal 是卡在讀來源盤還是寫目標盤。
- 2026-02-04 20:00：Healing：補齊 `cmd/erasure-healing.go: (*erasureObjects).healObject()` 前半段的精準步驟（lock → readAllFileInfo → objectQuorumFromMeta → listOnlineDisks → pickValidFileInfo → disksWithAllParts → NewErasure），方便排查 quorum/metadata 選擇與重建來源。
- 2026-02-04 08:00：Trace：PutObject 補齊 `erasureObjects.putObject()` 內部的精準落盤流程（`erasure.Encode` → `.minio.sys/tmp` → `renameData`/`commitRenameDataDir`）與 MRF partial 補洞線索；Healing 補充 `healObject()` 內兩段 `readAllFileInfo` 的意義與建議觀察點。
- 2026-02-03 22:58：Troubleshooting：擴充 `canceling remote connection` 的實務排查段落（ss/nstat/iostat/conntrack/MTU），更快判斷網路 vs 資源瓶頸。
- 2026-02-02 06:00：Trace/PutObject：補上從 `PutObjectHandler` 一路到 `erasureObjects.putObject()` 的精準呼叫鏈（含檔案與 receiver），方便快速 grep/下斷點。
- 2026-02-01 22:00：Trace/Healing：補上 `HealObject()` 實際呼叫鏈（erasureServerPools → erasureSets → erasureObjects → `healObject()`）與 deep scan/lock/quorum 等關鍵觀察點；Troubleshooting：`canceling remote connection` 補上「如何用同時間點 log/metric 串關聯」的小節。
- 2026-02-01 14:00：Trace/PutObject：補上 `erasureObjects.putObject()` 的 temp object/quorum/清理點；Trace/Healing：補上 `initBackgroundHealing` 與 scanner 觸發 `HealObject` 的來源；Troubleshooting：更新 `canceling remote connection`（補 `Connection.String()` 的 local->remote 解讀 + 用 grep 取代 rg 指令）。
- 2026-02-01 10:28：Admin heal：補上 Items[]（madmin.HealResultItem）產生/推送位置與『如何拿 heal 清單/如何 trigger』SOP
- 2026-02-01 06:00：Healing：補齊 `cmd/global-heal.go: (*erasureObjects).healErasureSet()` 的實際流程（先 HealBucket、worker 數量估算、來源 disks 選擇、metacache entry → HealObject 的關鍵呼叫）。
- 2026-01-31 22:38：新增 Trace：admin heal（server handler / JSON 欄位對照第一版）
- 2026-01-31 06:00：Trace/PutObject：補上 PutObjectHandler（cmd/object-handlers.go）更精準的 pipeline/函式定位；Trace/Healing：補上 `sets[setIdx]` 實際型別與 `healErasureSet` 的實作位置；Troubleshooting：新增 `canceling remote connection` 的 10 分鐘快速排查 SOP。
- 2026-01-30 22:00：PutObject/Healing：補齊本機 source tree 的具體函式/檔案對照（PutObjectHandler pipeline、erasureServerPools/erasureSets/erasureObjects PutObject；Healing 的 healErasureSet 實作在 cmd/global-heal.go），並修正 changelog 首行缺日期。
- 2026-01-30 14:00：補齊 PutObject 路由 matcher（Copy/Extract/Append reject/Multipart part）與 Healing 新盤自動修復呼叫鏈（initAutoHeal → healFreshDisk → healErasureSet）。
- 2026-01-30 09:01：補齊 `canceling remote connection`：追到 LastPing/LastPong 更新點與 ping/pong 呼叫鏈（grid）。
- 2026-01-30 08:51：新增 troubleshooting：`canceling remote connection`（grid ping timeout ~60s 的可能原因與排查）。
- 2026-01-30 08:08：手動更新（補上 06:00 漏跑）。開始補 PutObject/Healing 的實際檔案/函式對照點。
- 2026-01-29 22:22：手動補推（排程改為 06/14/22 後，22:00 之前未生效）。PutObject/Healing trace 補充『本輪進度』與下一步 TODO。
- 2026-01-29：新增 Trace 專區（PutObject / Healing）與側邊欄連結。
- 2026-01-28：初始化知識庫網站骨架。
